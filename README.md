

### Установка на Windows

* Нужен python3.6.

* Установка `SpeechRecognition`:
```
pip install SpeechRecognition
```

[Документация](https://pypi.org/project/SpeechRecognition/).

* Установка `pocketsphinx`: можно скачать [здесь](https://pypi.org/project/pocketsphinx/#files).

* Скачивание обученной модели для русского языка на основе HMM: [здесь](https://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/Russian/). 

Делаем так, чтобы получилась следующая иерархия файлов и каталогов:
```
pocketsphinx-data \
    ru-RU \
        acoustic-model \
            {model' files}
        language-model.lm.bin
        pronounciation-dictionary.dict
```
и подкладываем эти файлы в директорию: `...\AppData\Local\Programs\Python\Python36\Lib\site-packages\speech_recognition\pocketsphinx-data`.

* Установка `logmmse`.
```
pip install logmmse
```

[Документация](https://pypi.org/project/logmmse/).

* Запускаем `python main.py`.

---

### Методы работы

* __Google.__ Используя библиотеку `SpeechRecognition`. Нет возможности обработать файлы, которые больше 5 минут. Для некоторых аудио не возвращается ни одного варианта текста.

* __Pocketsphinx.__ Используя библиотеку `SpeechRecognition`. Работает локально и очень медленно.

* __Yandex.__ Нужно создавать аккаунт для юридического лица и это платно.

* __Kaldi.__ Нужно попробовать запустить на Ubuntu.

---

### Примеры работы

|        | kaggle/early_short_stories_0001.wav |
|--------|-------------------------------------|
|Оригинал| За столицей мудрого царя Соломона шелестел по склонам холмов густой лес. С его опушки запутанные тропинки вели на поляну. |
|Google | за столицей Мудрого царя Соломона шелестел по склонам холмов густой лес с его опушке запутанные тропинке в Ильино поляна                                     |
|Sphinx | со столицей мудрого царя соломона шелестел по склонам холмов густой лес с его опушки запутанные тропинки вели на поляну |

|        | kaggle/early_short_stories_0002.wav |
|--------|-------------------------------------|
|Оригинал| Где происходили свидания Ариэля и Тамары. Ему было около 14 лет и ей тоже. |
|Google  | где происходили свидания Ариэль а это Мары ему было около 14 лет и ей то |
|Sphinx | где происходили свидания и карьере и тамара ему было около четырнадцати лет визитёр |

|        | kaggle/early_short_stories_0003.wav |
|--------|-------------------------------------|
|Оригинал| Но Ариэль был сыном знатного иерусалимца, одного из любимейших советников премудрого царя. |
|Google  | Ну Ариэль был сыном знатного Иерусалимская одного из любимейших советников премудрова Царя |
|Sphinx  | но арелет был сыном знатного ерусалим сам одного из любезнейший советников премудрого царя |

|        | kaggle/early_short_stories_0004.wav |
|--------|-------------------------------------|
|Оригинал| Его волосы были черны как ночь, а глаза - как уголь. А Тамара жила за городом, потому что её отцу-иноплеменнику. |
|Google  | его волосы были черны Как ночь А глаза как уголь а Тамара жила за городом потому что её отцу иноплеменников |
|Sphinx  | его волосы были черны как ночь глаза как у уголь а тамара жила за городом потому что её отцу иноплеменников |

|        | kaggle/early_short_stories_0005.wav |
|--------|-------------------------------------|
|Оригинал| Недозволялось обитать среди иудеев. Её мягкие длинные локоны были нежного тёмно-каштанового цвета. |
|Google  | не дозволялось обитать среди иудеев её мягкие длинные локоны были нежного темно каштанового цвета |
|Sphinx  | не дозволялось обитать среди иудеев её менять чьи длинные локоны были нежного темно каштанового цвета |

|        | decoder-test.wav |
|--------|------------------|
|Оригинал| Илья Ильф Евгений Петров Золотой телёнок. |
|Google  | Илья Ильф Евгений Петров Золотой телёнок  |
|Sphinx  | илья ильф евгений петров и золотой телёнок|

<!-- |        | machine-short.wav |
|--------|-------------------|
|Оригинал| - Тут наши ребята в чате спрашивают там, ты по нашим Алматинским горам скучаешь или нет. Я им сказал, что тут таких гор много. - Не, ну гор много, Сань. По горам я не скучаю, я по людям скучаю, конечно, по друзьям. То есть вот вас мне не хватает сильно, а гор то здесь. Вот сейчас поедем, посмотришь эти тысячаметровые стены, северные. [название]. [название] там. В общем тут есть где лазить. - Да, места для лазанья очень много искал и горы действительно. И всё в такой же, если не в лучшей, доступности, как у нас. - Досупность даже лучше, Санёк. -->